<div class="card">
    <p-toast />
    <p-toolbar styleClass="mb-4 gap-2 bg-white">
        <div class="grid grid-cols-6 gap-2">


            <div class="col-span-2">
                <label for="Nombre" class="label-filter">Nombre</label>

                <input type="text" class="input-filter" pInputText [(ngModel)]="filter.nombre" />
            </div>

            <div class="col-span-1">
                <label for="descripcion" class="label-filter">
                    Descripción
                </label>

                <input type="text" class="input-filter" pInputText [(ngModel)]="filter.descripcion" />
            </div>

            <div class="col-span-1">
                <label for="ubicacionExacta" class="label-filter">
                    Ubicación
                </label>

                <input type="text" class="input-filter" pInputText [(ngModel)]="filter.ubicacionExacta" />

            </div>

            <div class="col-span-1">
                <label for="fechaInicio" class="label-filter">
                    Fecha Inicio
                </label>

                <p-calendar class="input-filter-date" [(ngModel)]="filter.fechaInicio" [iconDisplay]="'input'"
                    [showIcon]="true" inputId="icondisplay" />
            </div>

            <div class="col-span-1">
                <label for="fechaFin" class="label-filter">
                    Fecha Fin
                </label>

                <p-calendar class="input-filter-date" [(ngModel)]="filter.fechaFin" [iconDisplay]="'input'" [showIcon]="true"
                    inputId="icondisplay" />
            </div>

            <div class="col-span-1">
                <label for="type" class="label-filter">
                    Tipo
                </label>


                <input type="text" class="input-filter" pInputText [(ngModel)]="filter.type" />
            </div>

            <div class="col-span-1">
                <label for="name_route" class="label-filter">
                    Ruta
                </label>

                <input type="text" class="input-filter" pInputText [(ngModel)]="filter.name_route" />
            </div>

            <div class="col-span-2">

            </div>


            <div class="col-span-2 global-center-end mt-3">
                <p-button severity="success" label="Nuevo" icon="pi pi-plus" class="ml-2 text-sm p-1"
                    (onClick)="coreNew()" />
                <p-button severity="warning" label="Buscar" icon="pi pi-search" class="ml-2 text-sm p-1"
                    (onClick)="coreSearch()" />
                <p-button severity="danger" label="Limpiar" icon="pi pi-trash" class="ml-2 text-sm p-1"
                    (onClick)="clearFilter()" />
            </div>


        </div>
    </p-toolbar>


    <p-table #dt [value]="listFilter" [rows]="10" [paginator]="true"
        [globalFilterFields]="['nombre', 'ubicacionExacta', 'fechaInicio', 'fechaFin']" [(selection)]="itemSelected"
        [rowHover]="true" dataKey="id" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [showCurrentPageReport]="true" styleClass="p-datatable-sm">
        <!-- <ng-template pTemplate="caption">
            <div class="global-center-between">
                <h5 class="m-0">Administrar Eventos</h5>
                <span class="p-input-icon-left">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" (input)="onFilterGlobal($event)" placeholder="Search..." />
                </span>
            </div>
        </ng-template> -->
        <ng-template pTemplate="header">
            <tr class="text-sm">

                <th class="tableColumnName" pSortableColumn="nombre">
                    Name <p-sortIcon field="nombre" />
                </th>

                <th class="tableColumnDescription-xs " pSortableColumn="ubicacionExacta">
                    Ubicación <p-sortIcon field="ubicacionExacta" />
                </th>
                <th class="tableColumnDate" pSortableColumn="fechaInicio">
                    Fecha Inicio <p-sortIcon field="fechaInicio" />
                </th>
                <th class="tableColumnDate" pSortableColumn="fechaFin">
                    Fecha Fin <p-sortIcon field="fechaFin" />
                </th>

                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-row>
            <tr class="text-xs">

                <td class="tableColumnName">
                    {{ row.nombre }}
                </td>

                <!-- <td class="tableColumnDescription-xs ">
                    
                      xd
                </td> -->

                <td class="tableColumnDescription-xs ">
                    {{ row.ubicacionExacta }}
                </td>
                <td class="tableColumnDate">
                    {{ row.fechaInicio }}
                </td>
                <td class="tableColumnDate">
                    {{ row.fechaFin }}
                </td>
                <td>
                    <div class="dropdown-button card flex items-center justify-center">
                        <p-menu #menu [model]="items" [popup]="true" appendTo="body" />
                        <p-button (onClick)="menu.toggle($event)" (onClick)="itemSelected = row"
                            icon="pi pi-ellipsis-v" />
                    </div>

                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="summary">
            <div class="global-center-between text-sm">
                Existen {{ listFilter ? listFilter.length : 0 }} elementos.
            </div>
        </ng-template>
    </p-table>



    <p-confirmDialog [style]="{ width: '450px' }" />
</div>